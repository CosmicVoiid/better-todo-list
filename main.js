(()=>{"use strict";class e{constructor(e,t,o){this.projectName=e,this.todo_list=t,this.selected=!1}}const t=(()=>{let t=JSON.parse(localStorage.getItem("task.projects"))||[];function o(e){localStorage.setItem("task.projects",JSON.stringify(e))}return{makeProject:function(c,n){let d=new e(c,n);t.push(d),console.log({projectList:t}),o(t)},changeName:function(e,c){t[c].projectName=e,o(t)},removeProject:function(e){t.splice(e,1),o(t)},select:function(e,c){t[e].selected=c,o(t)},saveProject:o,projectList:t}})();class o{constructor(e,t,o,c,n){this.todoName=e,this.description=t,this.date=o,this.priority=c,this.completed=!1}}const c=(()=>{let e=[];return{isSelected:function(){let e=t.projectList;for(let t=0;t<e.length;t++)if(!0===e[t].selected)return t},makeTodo:function(t,c,n,d){let r=new o(t,c,n,d);return e.push(r),r},sortList:function(e){let t=[];for(let o=0;o<e.length;o++)"High"===e[o].priority&&t.push(e[o]);for(let o=0;o<e.length;o++)"Medium"===e[o].priority&&t.push(e[o]);for(let o=0;o<e.length;o++)"Low"===e[o].priority&&t.push(e[o]);return t}}})(),n=(()=>{function e(){const e=document.querySelector(".modal"),t=document.querySelector(".modal-overlay");e.classList.toggle("closed"),t.classList.toggle("closed")}function o(){document.querySelector("#todo-btn").classList.add("closed")}function n(){const o=document.querySelector("#todo-name"),n=document.querySelector("#todo-description"),d=document.querySelector("#todo-date"),l=document.querySelector("#priority");!function(){const e=document.querySelector("#todo-name"),o=document.querySelector("#todo-description"),n=document.querySelector("#todo-date").value,d=document.querySelector("#priority");let l=c.makeTodo(e.value,o.value,n,d.value),s=c.isSelected();t.projectList[s].todo_list.push(l),t.projectList[s].todo_list=c.sortList(t.projectList[s].todo_list),t.saveProject(t.projectList),console.log(t.projectList[s]),r()}(),o.value="",n.value="",d.value="",l.value="Low",e()}const d=document.querySelector("#modal-form");function r(){let e=c.isSelected(),o=t.projectList[e];l(),console.log(o.todo_list);for(let e=0;e<o.todo_list.length;e++)s(o.todo_list[e],e),console.log("test2")}function l(){const e=document.querySelector("#content"),t=document.querySelectorAll(".todo-container");for(let o=0;o<t.length;o++)e.removeChild(t[o])}function s(o,s){const i=document.querySelector("#content"),a=document.createElement("div"),u=document.createElement("input"),p=document.createElement("label"),m=document.createElement("span"),v=document.createElement("div"),L=document.createElement("div"),h=document.createElement("h3"),y=document.createElement("div"),j=document.createElement("input"),f=document.createElement("div"),g=document.createElement("button"),S=document.createElement("button");h.textContent=o.todoName,y.textContent=o.description,j.setAttribute("type","date"),j.value=o.date,j.classList.add("todo-date-div"),u.setAttribute("type","checkbox"),g.textContent="E",S.textContent="X",L.classList.add("todo-text"),a.classList.add("todo-container"),u.classList.add("custom-checkbox"),g.classList.add("btn"),S.classList.add("btn"),v.classList.add("left-container"),g.addEventListener("click",(()=>{!function(o){let s=t.projectList[c.isSelected()].todo_list;const i=document.querySelector("#todo-name"),a=document.querySelector("#todo-description"),u=document.querySelector("#todo-date"),p=document.querySelector("#priority");i.value=s[o].todoName,a.value=s[o].description,u.value=s[o].date,p.value=s[o].priority,e(),d.removeEventListener("submit",n),d.addEventListener("submit",(function m(){s[o].todoName=i.value,s[o].description=a.value,s[o].date=u.value,s[o].priority=p.value;let v=c.isSelected();t.projectList[v].todo_list=c.sortList(t.projectList[v].todo_list),l(),r(),e(),i.value="",a.value="",u.value="",p.value="Low",t.saveProject(t.projectList),this.removeEventListener("submit",m),d.addEventListener("submit",n)}))}(s)})),S.addEventListener("click",(()=>{console.log(s),function(e){t.projectList[c.isSelected()].todo_list.splice(e,1),t.saveProject(t.projectList),r()}(s)})),j.addEventListener("change",(()=>{o.date=j.value,t.saveProject(t.projectList)})),u.addEventListener("click",(()=>{o.completed=u.checked,t.saveProject(t.projectList)})),u.checked=o.completed,"High"===o.priority&&(a.style.cssText="background-color: red"),"Medium"===o.priority&&(a.style.cssText="background-color: orange"),"Low"===o.priority&&(a.style.cssText="background-color: yellow"),m.style.cssText="border-color: red",p.appendChild(u),p.appendChild(m),m.classList.add("custom-checkbox"),L.appendChild(h),L.appendChild(y),v.appendChild(p),v.appendChild(L),f.appendChild(j),f.appendChild(g),f.appendChild(S),a.appendChild(v),a.appendChild(f),i.append(a)}return d.addEventListener("submit",(e=>{e.preventDefault()})),d.addEventListener("submit",n),{addTodoButton:function(){if(void 0!==c.isSelected()){const t=document.querySelector("#todo-btn");t.classList.remove("closed"),document.querySelector("#modal-exit").addEventListener("click",e),t.addEventListener("click",e)}else o()},removeTodoButton:o,displayTodo:r}})(),d=(()=>{const e=document.querySelector("#projects-container");function o(o,n){const r=document.createElement("div"),s=document.createElement("div"),i=document.createElement("button"),a=document.createElement("button");r.classList.add("project"),s.classList.add("project-title"),i.classList.add("btn"),a.classList.add("btn"),i.textContent="E",a.textContent="X",s.addEventListener("click",(e=>{e.stopPropagation(),l(),t.select(n,!0),d()})),i.addEventListener("click",(e=>{e.stopPropagation(),function(e){const o=document.querySelectorAll(".project"),c=document.querySelectorAll(".project-title"),n=document.createElement("input");n.classList.add("edit-text"),n.setAttribute("type","text"),n.setAttribute("maxlength","10"),n.value=t.projectList[e].projectName,o[e].removeChild(c[e]),o[e].appendChild(n),n.addEventListener("keypress",(o=>{"Enter"===o.key&&(console.log("yes"),t.changeName(n.value,e),d())}))}(n)})),a.addEventListener("click",(o=>{o.stopPropagation(),function(o){const n=document.querySelectorAll(".project");e.removeChild(n[o]),t.removeProject(o),d(),console.log(c.isSelected())}(n)})),s.textContent=o,r.appendChild(s),r.appendChild(i),r.appendChild(a),e.appendChild(r)}function d(){!function(){for(;e.firstChild;)e.removeChild(e.firstChild)}();let c=0,d=t.projectList;for(console.log(d);c<d.length;c++)o(d[c].projectName,c),!0===d[c].selected&&(r(c),n.addTodoButton(),n.displayTodo())}function r(e){l(),t.select(e,!0),document.querySelectorAll(".project")[e].style.cssText="background-color: lightblue"}function l(){for(let e=0;e<t.projectList.length;e++)t.select(e,!1)}return document.querySelector("#add-project").addEventListener("submit",(e=>{e.preventDefault();const o=document.querySelector(".project-name");var c;c=o.value,t.makeProject(c,[]),d(),o.value=""})),{addProject:o,render:d}})();console.log("test"),d.render()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iZXR0ZXItdG9kby1saXN0Ly4vc3JjL3Byb2plY3QtbG9naWMuanMiLCJ3ZWJwYWNrOi8vYmV0dGVyLXRvZG8tbGlzdC8uL3NyYy90b2RvLWxvZ2ljLmpzIiwid2VicGFjazovL2JldHRlci10b2RvLWxpc3QvLi9zcmMvdG9kby1kb20uanMiLCJ3ZWJwYWNrOi8vYmV0dGVyLXRvZG8tbGlzdC8uL3NyYy9wcm9qZWN0LWRvbS5qcyIsIndlYnBhY2s6Ly9iZXR0ZXItdG9kby1saXN0Ly4vc3JjL3Rlc3QuanMiLCJ3ZWJwYWNrOi8vYmV0dGVyLXRvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJQcm9qZWN0IiwiY29uc3RydWN0b3IiLCJwcm9qZWN0TmFtZSIsInRvZG9fbGlzdCIsInNlbGVjdGVkIiwidGhpcyIsInByb2plY3RMaXN0IiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNhdmVQcm9qZWN0IiwicHJvamVjdCIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJtYWtlUHJvamVjdCIsIm9iaiIsInB1c2giLCJjb25zb2xlIiwibG9nIiwiY2hhbmdlTmFtZSIsIm5ld05hbWUiLCJpbmRleCIsInJlbW92ZVByb2plY3QiLCJzcGxpY2UiLCJzZWxlY3QiLCJib29sIiwiVG9kbyIsInRvZG9OYW1lIiwiZGVzY3JpcHRpb24iLCJkYXRlIiwicHJpb3JpdHkiLCJjb21wbGV0ZWQiLCJ0b2RvTGlzdCIsImlzU2VsZWN0ZWQiLCJsaXN0IiwiaSIsImxlbmd0aCIsIm1ha2VUb2RvIiwic29ydExpc3QiLCJuZXdMaXN0IiwidG9nZ2xlTW9kYWwiLCJtb2RhbCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm1vZGFsT3ZlcmxheSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZVRvZG9CdXR0b24iLCJhZGQiLCJtb2RhbEZsb3ciLCJ0b2RvRGVzY3JpcHRpb24iLCJ0b2RvRGF0ZSIsInRvZG9Qcmlvcml0eSIsInZhbHVlIiwidG9kbyIsImRpc3BsYXlUb2RvIiwiZm9ybVN1Ym1pdCIsIm1vZGFsRm9ybSIsImNsZWFyVG9kbyIsIm1ha2VUb2RvVGFnIiwiY29udGVudCIsInRvZG9Db250YWluZXIiLCJxdWVyeVNlbGVjdG9yQWxsIiwicmVtb3ZlQ2hpbGQiLCJjcmVhdGVFbGVtZW50IiwiY2hlY2siLCJjaGVja0xhYmVsIiwiY2hlY2tTcGFuIiwibGVmdENvbnRhaW5lciIsInRvZG9UZXh0IiwicmlnaHRDb250YWluZXIiLCJlZGl0IiwiZGVsIiwidGV4dENvbnRlbnQiLCJzZXRBdHRyaWJ1dGUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRvZG9FZGl0Rm9ybSIsImVkaXRUb2RvIiwiZGVsZXRlVG9kbyIsImNoZWNrZWQiLCJzdHlsZSIsImNzc1RleHQiLCJhcHBlbmRDaGlsZCIsImFwcGVuZCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImFkZFRvZG9CdXR0b24iLCJ1bmRlZmluZWQiLCJ0b2RvQnV0dG9uIiwicmVtb3ZlIiwicHJvamVjdENvbnRhaW5lciIsImFkZFByb2plY3QiLCJpbnB1dE5hbWUiLCJzdG9wUHJvcGFnYXRpb24iLCJkZXNlbGVjdFByb2plY3QiLCJyZW5kZXIiLCJwcm9qZWN0VGl0bGUiLCJlZGl0VGV4dCIsImtleSIsImVkaXRQcm9qZWN0IiwiZGVsZXRlUHJvamVjdCIsImZpcnN0Q2hpbGQiLCJjbGVhclByb2plY3QiLCJzZWxlY3RQcm9qZWN0IiwicHJvamVjdFRleHQiXSwibWFwcGluZ3MiOiJtQkFBQSxNQUFNQSxFQUNMQyxZQUFZQyxFQUFhQyxFQUFXQyxHQUNuQ0MsS0FBS0gsWUFBY0EsRUFDbkJHLEtBQUtGLFVBQVlBLEVBQ2pCRSxLQUFLRCxVQUFXLEdBSWxCLE1BdUNBLEVBdkNxQixNQUNwQixJQUFJRSxFQUFjQyxLQUFLQyxNQUFNQyxhQUFhQyxRQUFRLG1CQUFxQixHQUV2RSxTQUFTQyxFQUFZQyxHQUNwQkgsYUFBYUksUUFBUSxn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RyxFQUFZcEQsTUFrRTlCLGNBQXlCcEQsRUFBYSxJQWpFdEMrRixJQUNBUyxFQUFZcEQsTUFBUSxNQTRHZCxDQUFFdUMsYUFBWUksV0FySEgsR0NIbEIvRSxRQUFRQyxJQUFJLFFDS2IsWSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgUHJvamVjdCB7XG5cdGNvbnN0cnVjdG9yKHByb2plY3ROYW1lLCB0b2RvX2xpc3QsIHNlbGVjdGVkKSB7XG5cdFx0dGhpcy5wcm9qZWN0TmFtZSA9IHByb2plY3ROYW1lO1xuXHRcdHRoaXMudG9kb19saXN0ID0gdG9kb19saXN0O1xuXHRcdHRoaXMuc2VsZWN0ZWQgPSBmYWxzZTtcblx0fVxufVxuXG5jb25zdCBwcm9qZWN0TG9naWMgPSAoKCkgPT4ge1xuXHRsZXQgcHJvamVjdExpc3QgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidGFzay5wcm9qZWN0c1wiKSkgfHwgW107XG5cblx0ZnVuY3Rpb24gc2F2ZVByb2plY3QocHJvamVjdCkge1xuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidGFzay5wcm9qZWN0c1wiLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0KSk7XG5cdH1cblxuXHRmdW5jdGlvbiBtYWtlUHJvamVjdChwcm9qZWN0TmFtZSwgdG9kb19saXN0KSB7XG5cdFx0bGV0IG9iaiA9IG5ldyBQcm9qZWN0KHByb2plY3ROYW1lLCB0b2RvX2xpc3QpO1xuXHRcdHByb2plY3RMaXN0LnB1c2gob2JqKTtcblx0XHRjb25zb2xlLmxvZyh7IHByb2plY3RMaXN0IH0pO1xuXHRcdHNhdmVQcm9qZWN0KHByb2plY3RMaXN0KTtcblx0fVxuXG5cdGZ1bmN0aW9uIHJlbW92ZVByb2plY3QoaW5kZXgpIHtcblx0XHRwcm9qZWN0TGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdHNhdmVQcm9qZWN0KHByb2plY3RMaXN0KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNoYW5nZU5hbWUobmV3TmFtZSwgaW5kZXgpIHtcblx0XHRwcm9qZWN0TGlzdFtpbmRleF0ucHJvamVjdE5hbWUgPSBuZXdOYW1lO1xuXHRcdHNhdmVQcm9qZWN0KHByb2plY3RMaXN0KTtcblx0fVxuXG5cdGZ1bmN0aW9uIHNlbGVjdChpbmRleCwgYm9vbCkge1xuXHRcdHByb2plY3RMaXN0W2luZGV4XS5zZWxlY3RlZCA9IGJvb2w7XG5cdFx0c2F2ZVByb2plY3QocHJvamVjdExpc3QpO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRtYWtlUHJvamVjdCxcblx0XHRjaGFuZ2VOYW1lLFxuXHRcdHJlbW92ZVByb2plY3QsXG5cdFx0c2VsZWN0LFxuXHRcdHNhdmVQcm9qZWN0LFxuXHRcdHByb2plY3RMaXN0LFxuXHR9O1xufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgcHJvamVjdExvZ2ljO1xuIiwiaW1wb3J0IHByb2plY3RMb2dpYyBmcm9tIFwiLi9wcm9qZWN0LWxvZ2ljLmpzXCI7XG5cbmNsYXNzIFRvZG8ge1xuXHRjb25zdHJ1Y3Rvcih0b2RvTmFtZSwgZGVzY3JpcHRpb24sIGRhdGUsIHByaW9yaXR5LCBjb21wbGV0ZWQpIHtcblx0XHR0aGlzLnRvZG9OYW1lID0gdG9kb05hbWU7XG5cdFx0dGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuXHRcdHRoaXMuZGF0ZSA9IGRhdGU7XG5cdFx0dGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuXHRcdHRoaXMuY29tcGxldGVkID0gZmFsc2U7XG5cdH1cbn1cblxuY29uc3QgdG9kb0xvZ2ljID0gKCgpID0+IHtcblx0bGV0IHRvZG9MaXN0ID0gW107XG5cblx0ZnVuY3Rpb24gbWFrZVRvZG8odG9kb05hbWUsIGRlc2NyaXB0aW9uLCBkYXRlLCBwcmlvcml0eSkge1xuXHRcdGxldCBvYmogPSBuZXcgVG9kbyh0b2RvTmFtZSwgZGVzY3JpcHRpb24sIGRhdGUsIHByaW9yaXR5KTtcblx0XHR0b2RvTGlzdC5wdXNoKG9iaik7XG5cdFx0cmV0dXJuIG9iajtcblx0fVxuXG5cdGZ1bmN0aW9uIHNvcnRMaXN0KGxpc3QpIHtcblx0XHRsZXQgbmV3TGlzdCA9IFtdO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKGxpc3RbaV0ucHJpb3JpdHkgPT09IFwiSGlnaFwiKSB7XG5cdFx0XHRcdG5ld0xpc3QucHVzaChsaXN0W2ldKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAobGlzdFtpXS5wcmlvcml0eSA9PT0gXCJNZWRpdW1cIikge1xuXHRcdFx0XHRuZXdMaXN0LnB1c2gobGlzdFtpXSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKGxpc3RbaV0ucHJpb3JpdHkgPT09IFwiTG93XCIpIHtcblx0XHRcdFx0bmV3TGlzdC5wdXNoKGxpc3RbaV0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBuZXdMaXN0O1xuXHR9XG5cblx0ZnVuY3Rpb24gaXNTZWxlY3RlZCgpIHtcblx0XHRsZXQgbGlzdCA9IHByb2plY3RMb2dpYy5wcm9qZWN0TGlzdDtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChsaXN0W2ldLnNlbGVjdGVkID09PSB0cnVlKSByZXR1cm4gaTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4geyBpc1NlbGVjdGVkLCBtYWtlVG9kbywgc29ydExpc3QgfTtcbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHRvZG9Mb2dpYztcbiIsImltcG9ydCBwcm9qZWN0TG9naWMgZnJvbSBcIi4vcHJvamVjdC1sb2dpYy5qc1wiO1xuaW1wb3J0IHRvZG9Mb2dpYyBmcm9tIFwiLi90b2RvLWxvZ2ljLmpzXCI7XG5cbmNvbnN0IHRvZG9ET00gPSAoKCkgPT4ge1xuXHRmdW5jdGlvbiBhZGRUb2RvQnV0dG9uKCkge1xuXHRcdGlmICh0b2RvTG9naWMuaXNTZWxlY3RlZCgpICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGNvbnN0IHRvZG9CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RvZG8tYnRuXCIpO1xuXHRcdFx0dG9kb0J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2xvc2VkXCIpO1xuXG5cdFx0XHRjb25zdCBtb2RhbEV4aXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLWV4aXRcIik7XG5cblx0XHRcdG1vZGFsRXhpdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlTW9kYWwpO1xuXHRcdFx0dG9kb0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlTW9kYWwpO1xuXHRcdH0gZWxzZSByZW1vdmVUb2RvQnV0dG9uKCk7XG5cdH1cblxuXHRmdW5jdGlvbiB0b2dnbGVNb2RhbCgpIHtcblx0XHRjb25zdCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxcIik7XG5cdFx0Y29uc3QgbW9kYWxPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1vdmVybGF5XCIpO1xuXG5cdFx0bW9kYWwuY2xhc3NMaXN0LnRvZ2dsZShcImNsb3NlZFwiKTtcblx0XHRtb2RhbE92ZXJsYXkuY2xhc3NMaXN0LnRvZ2dsZShcImNsb3NlZFwiKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHJlbW92ZVRvZG9CdXR0b24oKSB7XG5cdFx0Y29uc3QgdG9kb0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdG9kby1idG5cIik7XG5cdFx0dG9kb0J1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2xvc2VkXCIpO1xuXHR9XG5cblx0ZnVuY3Rpb24gbW9kYWxGbG93KCkge1xuXHRcdGNvbnN0IHRvZG9OYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0b2RvLW5hbWVcIik7XG5cdFx0Y29uc3QgdG9kb0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0b2RvLWRlc2NyaXB0aW9uXCIpO1xuXHRcdGNvbnN0IHRvZG9EYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0b2RvLWRhdGVcIik7XG5cdFx0Y29uc3QgdG9kb1ByaW9yaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcmlvcml0eVwiKTtcblx0XHRmb3JtU3VibWl0KCk7XG5cdFx0dG9kb05hbWUudmFsdWUgPSBcIlwiO1xuXHRcdHRvZG9EZXNjcmlwdGlvbi52YWx1ZSA9IFwiXCI7XG5cdFx0dG9kb0RhdGUudmFsdWUgPSBcIlwiO1xuXHRcdHRvZG9Qcmlvcml0eS52YWx1ZSA9IFwiTG93XCI7XG5cdFx0dG9nZ2xlTW9kYWwoKTtcblx0fVxuXG5cdGNvbnN0IG1vZGFsRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtZm9ybVwiKTtcblx0bW9kYWxGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdH0pO1xuXHRtb2RhbEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBtb2RhbEZsb3cpO1xuXG5cdGZ1bmN0aW9uIGZvcm1TdWJtaXQoKSB7XG5cdFx0Y29uc3QgdG9kb05hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RvZG8tbmFtZVwiKTtcblx0XHRjb25zdCB0b2RvRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RvZG8tZGVzY3JpcHRpb25cIik7XG5cdFx0Y29uc3QgdG9kb0RhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RvZG8tZGF0ZVwiKS52YWx1ZTtcblx0XHRjb25zdCB0b2RvUHJpb3JpdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3ByaW9yaXR5XCIpO1xuXG5cdFx0bGV0IHRvZG8gPSB0b2RvTG9naWMubWFrZVRvZG8oXG5cdFx0XHR0b2RvTmFtZS52YWx1ZSxcblx0XHRcdHRvZG9EZXNjcmlwdGlvbi52YWx1ZSxcblx0XHRcdHRvZG9EYXRlLFxuXHRcdFx0dG9kb1ByaW9yaXR5LnZhbHVlXG5cdFx0KTtcblxuXHRcdGxldCBpbmRleCA9IHRvZG9Mb2dpYy5pc1NlbGVjdGVkKCk7XG5cdFx0cHJvamVjdExvZ2ljLnByb2plY3RMaXN0W2luZGV4XS50b2RvX2xpc3QucHVzaCh0b2RvKTtcblx0XHRwcm9qZWN0TG9naWMucHJvamVjdExpc3RbaW5kZXhdLnRvZG9fbGlzdCA9IHRvZG9Mb2dpYy5zb3J0TGlzdChcblx0XHRcdHByb2plY3RMb2dpYy5wcm9qZWN0TGlzdFtpbmRleF0udG9kb19saXN0XG5cdFx0KTtcblx0XHRwcm9qZWN0TG9naWMuc2F2ZVByb2plY3QocHJvamVjdExvZ2ljLnByb2plY3RMaXN0KTtcblx0XHRjb25zb2xlLmxvZyhwcm9qZWN0TG9naWMucHJvamVjdExpc3RbaW5kZXhdKTtcblx0XHRkaXNwbGF5VG9kbygpO1xuXHR9XG5cblx0ZnVuY3Rpb24gZGlzcGxheVRvZG8oKSB7XG5cdFx0bGV0IGluZGV4ID0gdG9kb0xvZ2ljLmlzU2VsZWN0ZWQoKTtcblx0XHRsZXQgbGlzdCA9IHByb2plY3RMb2dpYy5wcm9qZWN0TGlzdFtpbmRleF07XG5cdFx0Y2xlYXJUb2RvKCk7XG5cdFx0Y29uc29sZS5sb2cobGlzdC50b2RvX2xpc3QpO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC50b2RvX2xpc3QubGVuZ3RoOyBpKyspIHtcblx0XHRcdG1ha2VUb2RvVGFnKGxpc3QudG9kb19saXN0W2ldLCBpKTtcblx0XHRcdGNvbnNvbGUubG9nKFwidGVzdDJcIik7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gY2xlYXJUb2RvKCkge1xuXHRcdGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbnRlbnRcIik7XG5cdFx0Y29uc3QgdG9kb0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG9kby1jb250YWluZXJcIik7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0b2RvQ29udGFpbmVyLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb250ZW50LnJlbW92ZUNoaWxkKHRvZG9Db250YWluZXJbaV0pO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIG1ha2VUb2RvVGFnKG9iaiwgaSkge1xuXHRcdGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbnRlbnRcIik7XG5cdFx0Y29uc3QgdG9kb0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0Y29uc3QgY2hlY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG5cdFx0Y29uc3QgY2hlY2tMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcblx0XHRjb25zdCBjaGVja1NwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcblx0XHRjb25zdCBsZWZ0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHRjb25zdCB0b2RvVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0Y29uc3QgdG9kb05hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XG5cdFx0Y29uc3QgdG9kb0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHRjb25zdCB0b2RvRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcblx0XHRjb25zdCByaWdodENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0Y29uc3QgZWRpdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG5cdFx0Y29uc3QgZGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcblxuXHRcdHRvZG9OYW1lLnRleHRDb250ZW50ID0gb2JqLnRvZG9OYW1lO1xuXHRcdHRvZG9EZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IG9iai5kZXNjcmlwdGlvbjtcblx0XHR0b2RvRGF0ZS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiZGF0ZVwiKTtcblx0XHR0b2RvRGF0ZS52YWx1ZSA9IG9iai5kYXRlO1xuXHRcdHRvZG9EYXRlLmNsYXNzTGlzdC5hZGQoXCJ0b2RvLWRhdGUtZGl2XCIpO1xuXHRcdGNoZWNrLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJjaGVja2JveFwiKTtcblx0XHRlZGl0LnRleHRDb250ZW50ID0gXCJFXCI7XG5cdFx0ZGVsLnRleHRDb250ZW50ID0gXCJYXCI7XG5cblx0XHR0b2RvVGV4dC5jbGFzc0xpc3QuYWRkKFwidG9kby10ZXh0XCIpO1xuXHRcdHRvZG9Db250YWluZXIuY2xhc3NMaXN0LmFkZChcInRvZG8tY29udGFpbmVyXCIpO1xuXHRcdGNoZWNrLmNsYXNzTGlzdC5hZGQoXCJjdXN0b20tY2hlY2tib3hcIik7XG5cdFx0ZWRpdC5jbGFzc0xpc3QuYWRkKFwiYnRuXCIpO1xuXHRcdGRlbC5jbGFzc0xpc3QuYWRkKFwiYnRuXCIpO1xuXHRcdGxlZnRDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImxlZnQtY29udGFpbmVyXCIpO1xuXG5cdFx0ZWRpdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuXHRcdFx0ZWRpdFRvZG8oaSk7XG5cdFx0fSk7XG5cblx0XHRkZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKGkpO1xuXHRcdFx0ZGVsZXRlVG9kbyhpKTtcblx0XHR9KTtcblxuXHRcdHRvZG9EYXRlLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xuXHRcdFx0b2JqLmRhdGUgPSB0b2RvRGF0ZS52YWx1ZTtcblx0XHRcdHByb2plY3RMb2dpYy5zYXZlUHJvamVjdChwcm9qZWN0TG9naWMucHJvamVjdExpc3QpO1xuXHRcdH0pO1xuXG5cdFx0Y2hlY2suYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcblx0XHRcdG9iai5jb21wbGV0ZWQgPSBjaGVjay5jaGVja2VkO1xuXHRcdFx0cHJvamVjdExvZ2ljLnNhdmVQcm9qZWN0KHByb2plY3RMb2dpYy5wcm9qZWN0TGlzdCk7XG5cdFx0fSk7XG5cblx0XHRjaGVjay5jaGVja2VkID0gb2JqLmNvbXBsZXRlZDtcblxuXHRcdGlmIChvYmoucHJpb3JpdHkgPT09IFwiSGlnaFwiKVxuXHRcdFx0dG9kb0NvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gXCJiYWNrZ3JvdW5kLWNvbG9yOiByZWRcIjtcblx0XHRpZiAob2JqLnByaW9yaXR5ID09PSBcIk1lZGl1bVwiKVxuXHRcdFx0dG9kb0NvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gXCJiYWNrZ3JvdW5kLWNvbG9yOiBvcmFuZ2VcIjtcblx0XHRpZiAob2JqLnByaW9yaXR5ID09PSBcIkxvd1wiKVxuXHRcdFx0dG9kb0NvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gXCJiYWNrZ3JvdW5kLWNvbG9yOiB5ZWxsb3dcIjtcblx0XHRjaGVja1NwYW4uc3R5bGUuY3NzVGV4dCA9IFwiYm9yZGVyLWNvbG9yOiByZWRcIjtcblxuXHRcdGNoZWNrTGFiZWwuYXBwZW5kQ2hpbGQoY2hlY2spO1xuXHRcdGNoZWNrTGFiZWwuYXBwZW5kQ2hpbGQoY2hlY2tTcGFuKTtcblx0XHRjaGVja1NwYW4uY2xhc3NMaXN0LmFkZChcImN1c3RvbS1jaGVja2JveFwiKTtcblx0XHR0b2RvVGV4dC5hcHBlbmRDaGlsZCh0b2RvTmFtZSk7XG5cdFx0dG9kb1RleHQuYXBwZW5kQ2hpbGQodG9kb0Rlc2NyaXB0aW9uKTtcblx0XHRsZWZ0Q29udGFpbmVyLmFwcGVuZENoaWxkKGNoZWNrTGFiZWwpO1xuXHRcdGxlZnRDb250YWluZXIuYXBwZW5kQ2hpbGQodG9kb1RleHQpO1xuXHRcdHJpZ2h0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRvZG9EYXRlKTtcblx0XHRyaWdodENvbnRhaW5lci5hcHBlbmRDaGlsZChlZGl0KTtcblx0XHRyaWdodENvbnRhaW5lci5hcHBlbmRDaGlsZChkZWwpO1xuXHRcdC8vIHRvZG9Db250YWluZXIuYXBwZW5kQ2hpbGQoY2hlY2spO1xuXHRcdHRvZG9Db250YWluZXIuYXBwZW5kQ2hpbGQobGVmdENvbnRhaW5lcik7XG5cdFx0Ly8gdG9kb0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0b2RvVGV4dCk7XG5cdFx0dG9kb0NvbnRhaW5lci5hcHBlbmRDaGlsZChyaWdodENvbnRhaW5lcik7XG5cdFx0Y29udGVudC5hcHBlbmQodG9kb0NvbnRhaW5lcik7XG5cdH1cblxuXHRmdW5jdGlvbiBlZGl0VG9kbyhpKSB7XG5cdFx0bGV0IGxpc3QgPSBwcm9qZWN0TG9naWMucHJvamVjdExpc3RbdG9kb0xvZ2ljLmlzU2VsZWN0ZWQoKV0udG9kb19saXN0O1xuXHRcdGNvbnN0IHRvZG9OYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0b2RvLW5hbWVcIik7XG5cdFx0Y29uc3QgdG9kb0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0b2RvLWRlc2NyaXB0aW9uXCIpO1xuXHRcdGNvbnN0IHRvZG9EYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0b2RvLWRhdGVcIik7XG5cdFx0Y29uc3QgdG9kb1ByaW9yaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcmlvcml0eVwiKTtcblxuXHRcdHRvZG9OYW1lLnZhbHVlID0gbGlzdFtpXS50b2RvTmFtZTtcblx0XHR0b2RvRGVzY3JpcHRpb24udmFsdWUgPSBsaXN0W2ldLmRlc2NyaXB0aW9uO1xuXHRcdHRvZG9EYXRlLnZhbHVlID0gbGlzdFtpXS5kYXRlO1xuXHRcdHRvZG9Qcmlvcml0eS52YWx1ZSA9IGxpc3RbaV0ucHJpb3JpdHk7XG5cdFx0dG9nZ2xlTW9kYWwoKTtcblxuXHRcdG1vZGFsRm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIG1vZGFsRmxvdyk7XG5cblx0XHRtb2RhbEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbiB0b2RvRWRpdEZvcm0oKSB7XG5cdFx0XHRsaXN0W2ldLnRvZG9OYW1lID0gdG9kb05hbWUudmFsdWU7XG5cdFx0XHRsaXN0W2ldLmRlc2NyaXB0aW9uID0gdG9kb0Rlc2NyaXB0aW9uLnZhbHVlO1xuXHRcdFx0bGlzdFtpXS5kYXRlID0gdG9kb0RhdGUudmFsdWU7XG5cdFx0XHRsaXN0W2ldLnByaW9yaXR5ID0gdG9kb1ByaW9yaXR5LnZhbHVlO1xuXHRcdFx0bGV0IGluZGV4ID0gdG9kb0xvZ2ljLmlzU2VsZWN0ZWQoKTtcblx0XHRcdHByb2plY3RMb2dpYy5wcm9qZWN0TGlzdFtpbmRleF0udG9kb19saXN0ID0gdG9kb0xvZ2ljLnNvcnRMaXN0KFxuXHRcdFx0XHRwcm9qZWN0TG9naWMucHJvamVjdExpc3RbaW5kZXhdLnRvZG9fbGlzdFxuXHRcdFx0KTtcblx0XHRcdGNsZWFyVG9kbygpO1xuXHRcdFx0ZGlzcGxheVRvZG8oKTtcblx0XHRcdHRvZ2dsZU1vZGFsKCk7XG5cdFx0XHR0b2RvTmFtZS52YWx1ZSA9IFwiXCI7XG5cdFx0XHR0b2RvRGVzY3JpcHRpb24udmFsdWUgPSBcIlwiO1xuXHRcdFx0dG9kb0RhdGUudmFsdWUgPSBcIlwiO1xuXHRcdFx0dG9kb1ByaW9yaXR5LnZhbHVlID0gXCJMb3dcIjtcblx0XHRcdHByb2plY3RMb2dpYy5zYXZlUHJvamVjdChwcm9qZWN0TG9naWMucHJvamVjdExpc3QpO1xuXHRcdFx0dGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRvZG9FZGl0Rm9ybSk7XG5cdFx0XHRtb2RhbEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBtb2RhbEZsb3cpO1xuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gZGVsZXRlVG9kbyhpKSB7XG5cdFx0bGV0IGxpc3QgPSBwcm9qZWN0TG9naWMucHJvamVjdExpc3RbdG9kb0xvZ2ljLmlzU2VsZWN0ZWQoKV0udG9kb19saXN0O1xuXHRcdGxpc3Quc3BsaWNlKGksIDEpO1xuXHRcdHByb2plY3RMb2dpYy5zYXZlUHJvamVjdChwcm9qZWN0TG9naWMucHJvamVjdExpc3QpO1xuXHRcdGRpc3BsYXlUb2RvKCk7XG5cdH1cblxuXHRyZXR1cm4geyBhZGRUb2RvQnV0dG9uLCByZW1vdmVUb2RvQnV0dG9uLCBkaXNwbGF5VG9kbyB9O1xufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgdG9kb0RPTTtcbiIsImltcG9ydCBwcm9qZWN0TG9naWMgZnJvbSBcIi4vcHJvamVjdC1sb2dpYy5qc1wiO1xuaW1wb3J0IHRvZG9Mb2dpYyBmcm9tIFwiLi90b2RvLWxvZ2ljLmpzXCI7XG5pbXBvcnQgdG9kb0RPTSBmcm9tIFwiLi90b2RvLWRvbS5qc1wiO1xuXG5jb25zdCBwcm9qZWN0RE9NID0gKCgpID0+IHtcblx0Y29uc3QgcHJvamVjdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdHMtY29udGFpbmVyXCIpO1xuXHRjb25zdCBwcm9qZWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLXByb2plY3RcIik7XG5cblx0cHJvamVjdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRjb25zdCBwcm9qZWN0VGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1uYW1lXCIpO1xuXHRcdGFkZFByb2plY3RUb0FycmF5KHByb2plY3RUZXh0LnZhbHVlKTtcblx0XHRyZW5kZXIoKTtcblx0XHRwcm9qZWN0VGV4dC52YWx1ZSA9IFwiXCI7XG5cdH0pO1xuXG5cdGZ1bmN0aW9uIGFkZFByb2plY3QoaW5wdXROYW1lLCBpKSB7XG5cdFx0Y29uc3QgcHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0Y29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdGNvbnN0IGVkaXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuXHRcdGNvbnN0IGRlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG5cblx0XHRwcm9qZWN0LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0XCIpO1xuXHRcdHByb2plY3ROYW1lLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LXRpdGxlXCIpO1xuXHRcdGVkaXQuY2xhc3NMaXN0LmFkZChcImJ0blwiKTtcblx0XHRkZWwuY2xhc3NMaXN0LmFkZChcImJ0blwiKTtcblx0XHRlZGl0LnRleHRDb250ZW50ID0gXCJFXCI7XG5cdFx0ZGVsLnRleHRDb250ZW50ID0gXCJYXCI7XG5cblx0XHRwcm9qZWN0TmFtZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRkZXNlbGVjdFByb2plY3QoKTtcblx0XHRcdHByb2plY3RMb2dpYy5zZWxlY3QoaSwgdHJ1ZSk7XG5cdFx0XHRyZW5kZXIoKTtcblx0XHR9KTtcblxuXHRcdGVkaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG5cdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0ZWRpdFByb2plY3QoaSk7XG5cdFx0fSk7XG5cblx0XHRkZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG5cdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0ZGVsZXRlUHJvamVjdChpKTtcblx0XHR9KTtcblxuXHRcdHByb2plY3ROYW1lLnRleHRDb250ZW50ID0gaW5wdXROYW1lO1xuXG5cdFx0cHJvamVjdC5hcHBlbmRDaGlsZChwcm9qZWN0TmFtZSk7XG5cdFx0cHJvamVjdC5hcHBlbmRDaGlsZChlZGl0KTtcblx0XHRwcm9qZWN0LmFwcGVuZENoaWxkKGRlbCk7XG5cblx0XHRwcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3QpO1xuXHR9XG5cblx0ZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcdGNsZWFyUHJvamVjdCgpO1xuXHRcdGxldCBpID0gMDtcblx0XHRsZXQgbGlzdCA9IHByb2plY3RMb2dpYy5wcm9qZWN0TGlzdDtcblx0XHRjb25zb2xlLmxvZyhsaXN0KTtcblx0XHRmb3IgKGk7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRhZGRQcm9qZWN0KGxpc3RbaV0ucHJvamVjdE5hbWUsIGkpO1xuXHRcdFx0aWYgKGxpc3RbaV0uc2VsZWN0ZWQgPT09IHRydWUpIHtcblx0XHRcdFx0c2VsZWN0UHJvamVjdChpKTtcblx0XHRcdFx0dG9kb0RPTS5hZGRUb2RvQnV0dG9uKCk7XG5cdFx0XHRcdHRvZG9ET00uZGlzcGxheVRvZG8oKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBjbGVhclByb2plY3QoKSB7XG5cdFx0d2hpbGUgKHByb2plY3RDb250YWluZXIuZmlyc3RDaGlsZCkge1xuXHRcdFx0cHJvamVjdENvbnRhaW5lci5yZW1vdmVDaGlsZChwcm9qZWN0Q29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGFkZFByb2plY3RUb0FycmF5KHByb2plY3ROYW1lKSB7XG5cdFx0cHJvamVjdExvZ2ljLm1ha2VQcm9qZWN0KHByb2plY3ROYW1lLCBbXSk7XG5cdH1cblxuXHRmdW5jdGlvbiBkZWxldGVQcm9qZWN0KGkpIHtcblx0XHQvLyBpZiAocHJvamVjdExvZ2ljLnByb2plY3RMaXN0KVxuXHRcdGNvbnN0IHByb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2plY3RcIik7XG5cdFx0cHJvamVjdENvbnRhaW5lci5yZW1vdmVDaGlsZChwcm9qZWN0W2ldKTtcblx0XHRwcm9qZWN0TG9naWMucmVtb3ZlUHJvamVjdChpKTtcblx0XHRyZW5kZXIoKTtcblx0XHRjb25zb2xlLmxvZyh0b2RvTG9naWMuaXNTZWxlY3RlZCgpKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGVkaXRQcm9qZWN0KGkpIHtcblx0XHRjb25zdCBwcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9qZWN0XCIpO1xuXHRcdGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvamVjdC10aXRsZVwiKTtcblx0XHRjb25zdCBlZGl0VGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcblx0XHRlZGl0VGV4dC5jbGFzc0xpc3QuYWRkKFwiZWRpdC10ZXh0XCIpO1xuXHRcdGVkaXRUZXh0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuXHRcdGVkaXRUZXh0LnNldEF0dHJpYnV0ZShcIm1heGxlbmd0aFwiLCBcIjEwXCIpO1xuXHRcdGVkaXRUZXh0LnZhbHVlID0gcHJvamVjdExvZ2ljLnByb2plY3RMaXN0W2ldLnByb2plY3ROYW1lO1xuXHRcdHByb2plY3RbaV0ucmVtb3ZlQ2hpbGQocHJvamVjdFRpdGxlW2ldKTtcblx0XHRwcm9qZWN0W2ldLmFwcGVuZENoaWxkKGVkaXRUZXh0KTtcblx0XHRlZGl0VGV4dC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIiwgKGUpID0+IHtcblx0XHRcdGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwieWVzXCIpO1xuXHRcdFx0XHRwcm9qZWN0TG9naWMuY2hhbmdlTmFtZShlZGl0VGV4dC52YWx1ZSwgaSk7XG5cdFx0XHRcdHJlbmRlcigpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gc2VsZWN0UHJvamVjdChpKSB7XG5cdFx0ZGVzZWxlY3RQcm9qZWN0KCk7XG5cdFx0cHJvamVjdExvZ2ljLnNlbGVjdChpLCB0cnVlKTtcblx0XHRjb25zdCBwcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9qZWN0XCIpO1xuXHRcdHByb2plY3RbaV0uc3R5bGUuY3NzVGV4dCA9IFwiYmFja2dyb3VuZC1jb2xvcjogbGlnaHRibHVlXCI7XG5cdH1cblxuXHRmdW5jdGlvbiBkZXNlbGVjdFByb2plY3QoKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBwcm9qZWN0TG9naWMucHJvamVjdExpc3QubGVuZ3RoOyBpKyspIHtcblx0XHRcdHByb2plY3RMb2dpYy5zZWxlY3QoaSwgZmFsc2UpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiB7IGFkZFByb2plY3QsIHJlbmRlciB9O1xufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgcHJvamVjdERPTTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRlc3QoKSB7XG5cdGNvbnNvbGUubG9nKFwidGVzdFwiKTtcbn1cbiIsImltcG9ydCB0ZXN0IGZyb20gXCIuL3Rlc3QuanNcIjtcbmltcG9ydCBwcm9qZWN0TG9naWMgZnJvbSBcIi4vcHJvamVjdC1sb2dpYy5qc1wiO1xuaW1wb3J0IHByb2plY3RET00gZnJvbSBcIi4vcHJvamVjdC1kb20uanNcIjtcbmltcG9ydCB0b2RvTG9naWMgZnJvbSBcIi4vdG9kby1sb2dpYy5qc1wiO1xuXG50ZXN0KCk7XG5wcm9qZWN0RE9NLnJlbmRlcigpO1xucHJvamVjdERPTTtcbiJdLCJzb3VyY2VSb290IjoiIn0=