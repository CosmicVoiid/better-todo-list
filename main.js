(()=>{"use strict";class e{constructor(e,t,o){this.projectName=e,this.todo_list=t,this.selected=!1}}const t=(()=>{let t=JSON.parse(localStorage.getItem("task.projects"))||[];function o(e){localStorage.setItem("task.projects",JSON.stringify(e))}return{makeProject:function(n,c){let r=new e(n,c);t.push(r),console.log({projectList:t}),o(t)},changeName:function(e,n){t[n].projectName=e,o(t)},removeProject:function(e){t.splice(e,1),o(t)},select:function(e,n){t[e].selected=n,o(t)},projectList:t}})(),o=function(){let e=t.projectList;for(let t=0;t<e.length;t++)if(!0===e[t].selected)return t},n=function(){if(null!==o()){const e=document.querySelector("#content"),t=document.createElement("button");t.classList.add("btn"),t.setAttribute("id","todo-btn"),t.textContent="+",e.appendChild(t)}},c=(()=>{const e=document.querySelector("#projects-container");function o(o,n){const r=document.createElement("div"),s=document.createElement("div"),i=document.createElement("button"),d=document.createElement("button");r.classList.add("project"),s.classList.add("project-title"),i.classList.add("btn"),d.classList.add("btn"),i.textContent="E",d.textContent="X",s.addEventListener("click",(e=>{e.stopPropagation(),l(),t.select(n,!0),c()})),i.addEventListener("click",(e=>{e.stopPropagation(),function(e){const o=document.querySelectorAll(".project"),n=document.querySelectorAll(".project-title"),r=document.createElement("input");r.classList.add("edit-text"),r.setAttribute("type","text"),r.setAttribute("maxlength","10"),r.value=t.projectList[e].projectName,o[e].removeChild(n[e]),o[e].appendChild(r),r.addEventListener("keypress",(o=>{"Enter"===o.key&&(console.log("yes"),t.changeName(r.value,e),c())}))}(n)})),d.addEventListener("click",(o=>{o.stopPropagation(),function(o){const n=document.querySelectorAll(".project");e.removeChild(n[o]),t.removeProject(o),c()}(n)})),s.textContent=o,r.appendChild(s),r.appendChild(i),r.appendChild(d),e.appendChild(r)}function c(){!function(){for(;e.firstChild;)e.removeChild(e.firstChild)}();let c=0,l=t.projectList;for(console.log(l);c<l.length;c++)o(l[c].projectName,c),!0===l[c].selected&&(r(c),n())}function r(e){l(),t.select(e,!0),document.querySelectorAll(".project")[e].style.cssText="background-color: lightblue"}function l(){for(let e=0;e<t.projectList.length;e++)t.select(e,!1)}return document.querySelector("#add-project").addEventListener("submit",(e=>{e.preventDefault();const o=document.querySelector(".project-name");var n;n=o.value,t.makeProject(n,[]),c(),o.value=""})),{addProject:o,render:c}})();console.log("test"),c.render()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iZXR0ZXItdG9kby1saXN0Ly4vc3JjL3Byb2plY3QtbG9naWMuanMiLCJ3ZWJwYWNrOi8vYmV0dGVyLXRvZG8tbGlzdC8uL3NyYy90b2RvLWxvZ2ljLmpzIiwid2VicGFjazovL2JldHRlci10b2RvLWxpc3QvLi9zcmMvdG9kby1kb20uanMiLCJ3ZWJwYWNrOi8vYmV0dGVyLXRvZG8tbGlzdC8uL3NyYy9wcm9qZWN0LWRvbS5qcyIsIndlYnBhY2s6Ly9iZXR0ZXItdG9kby1saXN0Ly4vc3JjL3Rlc3QuanMiLCJ3ZWJwYWNrOi8vYmV0dGVyLXRvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJQcm9qZWN0IiwiY29uc3RydWN0b3IiLCJwcm9qZWN0TmFtZSIsInRvZG9fbGlzdCIsInNlbGVjdGVkIiwidGhpcyIsInByb2plY3RMaXN0IiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNhdmVQcm9qZWN0IiwicHJvamVjdCIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJtYWtlUHJvamVjdCIsIm9iaiIsInB1c2giLCJjb25zb2xlIiwibG9nIiwiY2hhbmdlTmFtZSIsIm5ld05hbWUiLCJpbmRleCIsInJlbW92ZVByb2plY3QiLCJzcGxpY2UiLCJzZWxlY3QiLCJib29sIiwibGlzdCIsImkiLCJsZW5ndGgiLCJjb250ZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidG9kb0J1dHRvbiIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwicHJvamVjdENvbnRhaW5lciIsImFkZFByb2plY3QiLCJpbnB1dE5hbWUiLCJlZGl0IiwiZGVsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJkZXNlbGVjdFByb2plY3QiLCJyZW5kZXIiLCJxdWVyeVNlbGVjdG9yQWxsIiwicHJvamVjdFRpdGxlIiwiZWRpdFRleHQiLCJ2YWx1ZSIsInJlbW92ZUNoaWxkIiwia2V5IiwiZWRpdFByb2plY3QiLCJkZWxldGVQcm9qZWN0IiwiZmlyc3RDaGlsZCIsImNsZWFyUHJvamVjdCIsInNlbGVjdFByb2plY3QiLCJzdHlsZSIsImNzc1RleHQiLCJwcmV2ZW50RGVmYXVsdCIsInByb2plY3RUZXh0Il0sIm1hcHBpbmdzIjoibUJBQUEsTUFBTUEsRUFDTEMsWUFBWUMsRUFBYUMsRUFBV0MsR0FDbkNDLEtBQUtILFlBQWNBLEVBQ25CRyxLQUFLRixVQUFZQSxFQUNqQkUsS0FBS0QsVUFBVyxHQUlsQixNQWdDQSxFQWhDcUIsTUFDcEIsSUFBSUUsRUFBY0MsS0FBS0MsTUFBTUMsYUFBYUMsUUFBUSxtQkFBcUIsR0FFdkUsU0FBU0MsRUFBWUMsR0FDcEJILGFBQWFJLFFBQVEsZ0JBQWlCTixLQUFLTyxVQUFVRixJQXlCdEQsTUFBTyxDQUFFRyxZQXRCVCxTQUFxQmIsRUFBYUMsR0FDakMsSUFBSWEsRUFBTSxJQUFJaEIsRUFBUUUsRUFBYUMsR0FDbkNHLEVBQVlXLEtBQUtELEdBQ2pCRSxRQUFRQyxJQUFJLENBQUViLGdCQUNkSyxFQUFZTCxJQWtCU2MsV0FWdEIsU0FBb0JDLEVBQVNDLEdBQzVCaEIsRUFBWWdCLEdBQU9wQixZQUFjbUIsRUFDakNWLEVBQVlMLElBUXFCaUIsY0FmbEMsU0FBdUJELEdBQ3RCaEIsRUFBWWtCLE9BQU9GLEVBQU8sR0FDMUJYLEVBQVlMLElBYW9DbUIsT0FMakQsU0FBZ0JILEVBQU9JLEdBQ3RCcEIsRUFBWWdCLEdBQU9sQixTQUFXc0IsRUFDOUJmLEVBQVlMLElBRzRDQSxnQkE3QnJDLEdDZ0NyQixFQVZDLFdBQ0MsSUFBSXFCLEVBQU8sY0FDWCxJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSUQsRUFBS0UsT0FBUUQsSUFDaEMsSUFBeUIsSUFBckJELEVBQUtDLEdBQUd4QixTQUFtQixPQUFPd0IsR0NqQnpDLEVBYkMsV0FDQyxHQUErQixPQUEzQixJQUFpQyxDQUNwQyxN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IjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFByb2plY3Qge1xuXHRjb25zdHJ1Y3Rvcihwcm9qZWN0TmFtZSwgdG9kb19saXN0LCBzZWxlY3RlZCkge1xuXHRcdHRoaXMucHJvamVjdE5hbWUgPSBwcm9qZWN0TmFtZTtcblx0XHR0aGlzLnRvZG9fbGlzdCA9IHRvZG9fbGlzdDtcblx0XHR0aGlzLnNlbGVjdGVkID0gZmFsc2U7XG5cdH1cbn1cblxuY29uc3QgcHJvamVjdExvZ2ljID0gKCgpID0+IHtcblx0bGV0IHByb2plY3RMaXN0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRhc2sucHJvamVjdHNcIikpIHx8IFtdO1xuXG5cdGZ1bmN0aW9uIHNhdmVQcm9qZWN0KHByb2plY3QpIHtcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRhc2sucHJvamVjdHNcIiwgSlNPTi5zdHJpbmdpZnkocHJvamVjdCkpO1xuXHR9XG5cblx0ZnVuY3Rpb24gbWFrZVByb2plY3QocHJvamVjdE5hbWUsIHRvZG9fbGlzdCkge1xuXHRcdGxldCBvYmogPSBuZXcgUHJvamVjdChwcm9qZWN0TmFtZSwgdG9kb19saXN0KTtcblx0XHRwcm9qZWN0TGlzdC5wdXNoKG9iaik7XG5cdFx0Y29uc29sZS5sb2coeyBwcm9qZWN0TGlzdCB9KTtcblx0XHRzYXZlUHJvamVjdChwcm9qZWN0TGlzdCk7XG5cdH1cblxuXHRmdW5jdGlvbiByZW1vdmVQcm9qZWN0KGluZGV4KSB7XG5cdFx0cHJvamVjdExpc3Quc3BsaWNlKGluZGV4LCAxKTtcblx0XHRzYXZlUHJvamVjdChwcm9qZWN0TGlzdCk7XG5cdH1cblxuXHRmdW5jdGlvbiBjaGFuZ2VOYW1lKG5ld05hbWUsIGluZGV4KSB7XG5cdFx0cHJvamVjdExpc3RbaW5kZXhdLnByb2plY3ROYW1lID0gbmV3TmFtZTtcblx0XHRzYXZlUHJvamVjdChwcm9qZWN0TGlzdCk7XG5cdH1cblxuXHRmdW5jdGlvbiBzZWxlY3QoaW5kZXgsIGJvb2wpIHtcblx0XHRwcm9qZWN0TGlzdFtpbmRleF0uc2VsZWN0ZWQgPSBib29sO1xuXHRcdHNhdmVQcm9qZWN0KHByb2plY3RMaXN0KTtcblx0fVxuXG5cdHJldHVybiB7IG1ha2VQcm9qZWN0LCBjaGFuZ2VOYW1lLCByZW1vdmVQcm9qZWN0LCBzZWxlY3QsIHByb2plY3RMaXN0IH07XG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBwcm9qZWN0TG9naWM7XG4iLCJpbXBvcnQgcHJvamVjdExvZ2ljIGZyb20gXCIuL3Byb2plY3QtbG9naWMuanNcIjtcblxuY2xhc3MgVG9kbyB7XG5cdGNvbnN0cnVjdG9yKHRvZG9OYW1lLCBkZXNjcmlwdGlvbiwgZGF0ZSwgcHJpb3JpdHksIGNvbXBsZXRlZCkge1xuXHRcdHRoaXMudG9kb05hbWUgPSB0b2RvTmFtZTtcblx0XHR0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG5cdFx0dGhpcy5kYXRlID0gZGF0ZTtcblx0XHR0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG5cdFx0dGhpcy5jb21wbGV0ZWQgPSBmYWxzZTtcblx0fVxufVxuXG5jb25zdCB0b2RvTG9naWMgPSAoKCkgPT4ge1xuXHRsZXQgdG9kb0xpc3QgPSBbXTtcblxuXHRmdW5jdGlvbiBtYWtlVG9kbyhuYW1lLCBkZXNjcmlwdGlvbiwgcHJpb3JpdHkpIHtcblx0XHRsZXQgb2JqID0gbmV3IFRvZG8obmFtZSwgZGVzY3JpcHRpb24sIFwiXCIsIHByaW9yaXR5KTtcblx0XHR0b2RvTGlzdC5wdXNoKG9iaik7XG5cdH1cblxuXHRmdW5jdGlvbiByZW1vdmVUb2RvKGluZGV4KSB7XG5cdFx0dG9kb0xpc3Quc3BsaWNlKGluZGV4LCAxKTtcblx0XHRzYXZlUHJvamVjdChwcm9qZWN0TGlzdCk7XG5cdH1cblxuXHRmdW5jdGlvbiBjaGFuZ2VUb2RvKG5ld05hbWUsIGluZGV4KSB7XG5cdFx0dG9kb0xpc3RbaW5kZXhdLnByb2plY3ROYW1lID0gbmV3TmFtZTtcblx0XHRzYXZlUHJvamVjdChwcm9qZWN0TGlzdCk7XG5cdH1cblxuXHRmdW5jdGlvbiBpc1NlbGVjdGVkKCkge1xuXHRcdGxldCBsaXN0ID0gcHJvamVjdExvZ2ljLnByb2plY3RMaXN0O1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKGxpc3RbaV0uc2VsZWN0ZWQgPT09IHRydWUpIHJldHVybiBpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiB7IGlzU2VsZWN0ZWQgfTtcbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHRvZG9Mb2dpYztcbiIsImltcG9ydCB0b2RvTG9naWMgZnJvbSBcIi4vdG9kby1sb2dpYy5qc1wiO1xuXG5jb25zdCB0b2RvRE9NID0gKCgpID0+IHtcblx0ZnVuY3Rpb24gYWRkVG9kb0J1dHRvbigpIHtcblx0XHRpZiAodG9kb0xvZ2ljLmlzU2VsZWN0ZWQoKSAhPT0gbnVsbCkge1xuXHRcdFx0Y29uc3QgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29udGVudFwiKTtcblx0XHRcdGNvbnN0IHRvZG9CdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuXHRcdFx0dG9kb0J1dHRvbi5jbGFzc0xpc3QuYWRkKFwiYnRuXCIpO1xuXHRcdFx0dG9kb0J1dHRvbi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInRvZG8tYnRuXCIpO1xuXHRcdFx0dG9kb0J1dHRvbi50ZXh0Q29udGVudCA9IFwiK1wiO1xuXHRcdFx0Y29udGVudC5hcHBlbmRDaGlsZCh0b2RvQnV0dG9uKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHsgYWRkVG9kb0J1dHRvbiB9O1xufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgdG9kb0RPTTtcbiIsImltcG9ydCBwcm9qZWN0TG9naWMgZnJvbSBcIi4vcHJvamVjdC1sb2dpYy5qc1wiO1xuaW1wb3J0IHRvZG9Mb2dpYyBmcm9tIFwiLi90b2RvLWxvZ2ljLmpzXCI7XG5pbXBvcnQgdG9kb0RPTSBmcm9tIFwiLi90b2RvLWRvbS5qc1wiO1xuXG5jb25zdCBwcm9qZWN0RE9NID0gKCgpID0+IHtcblx0Y29uc3QgcHJvamVjdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdHMtY29udGFpbmVyXCIpO1xuXHRjb25zdCBwcm9qZWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLXByb2plY3RcIik7XG5cblx0cHJvamVjdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRjb25zdCBwcm9qZWN0VGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1uYW1lXCIpO1xuXHRcdGFkZFByb2plY3RUb0FycmF5KHByb2plY3RUZXh0LnZhbHVlKTtcblx0XHRyZW5kZXIoKTtcblx0XHRwcm9qZWN0VGV4dC52YWx1ZSA9IFwiXCI7XG5cdH0pO1xuXG5cdGZ1bmN0aW9uIGFkZFByb2plY3QoaW5wdXROYW1lLCBpKSB7XG5cdFx0Y29uc3QgcHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0Y29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdGNvbnN0IGVkaXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuXHRcdGNvbnN0IGRlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG5cblx0XHRwcm9qZWN0LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0XCIpO1xuXHRcdHByb2plY3ROYW1lLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LXRpdGxlXCIpO1xuXHRcdGVkaXQuY2xhc3NMaXN0LmFkZChcImJ0blwiKTtcblx0XHRkZWwuY2xhc3NMaXN0LmFkZChcImJ0blwiKTtcblx0XHRlZGl0LnRleHRDb250ZW50ID0gXCJFXCI7XG5cdFx0ZGVsLnRleHRDb250ZW50ID0gXCJYXCI7XG5cblx0XHRwcm9qZWN0TmFtZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRkZXNlbGVjdFByb2plY3QoKTtcblx0XHRcdHByb2plY3RMb2dpYy5zZWxlY3QoaSwgdHJ1ZSk7XG5cdFx0XHRyZW5kZXIoKTtcblx0XHR9KTtcblxuXHRcdGVkaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG5cdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0ZWRpdFByb2plY3QoaSk7XG5cdFx0fSk7XG5cblx0XHRkZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG5cdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0ZGVsZXRlUHJvamVjdChpKTtcblx0XHR9KTtcblxuXHRcdHByb2plY3ROYW1lLnRleHRDb250ZW50ID0gaW5wdXROYW1lO1xuXG5cdFx0cHJvamVjdC5hcHBlbmRDaGlsZChwcm9qZWN0TmFtZSk7XG5cdFx0cHJvamVjdC5hcHBlbmRDaGlsZChlZGl0KTtcblx0XHRwcm9qZWN0LmFwcGVuZENoaWxkKGRlbCk7XG5cblx0XHRwcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3QpO1xuXHR9XG5cblx0ZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcdGNsZWFyUHJvamVjdCgpO1xuXHRcdGxldCBpID0gMDtcblx0XHRsZXQgbGlzdCA9IHByb2plY3RMb2dpYy5wcm9qZWN0TGlzdDtcblx0XHRjb25zb2xlLmxvZyhsaXN0KTtcblx0XHRmb3IgKGk7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRhZGRQcm9qZWN0KGxpc3RbaV0ucHJvamVjdE5hbWUsIGkpO1xuXHRcdFx0aWYgKGxpc3RbaV0uc2VsZWN0ZWQgPT09IHRydWUpIHtcblx0XHRcdFx0c2VsZWN0UHJvamVjdChpKTtcblx0XHRcdFx0dG9kb0RPTS5hZGRUb2RvQnV0dG9uKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gY2xlYXJQcm9qZWN0KCkge1xuXHRcdHdoaWxlIChwcm9qZWN0Q29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHByb2plY3RDb250YWluZXIucmVtb3ZlQ2hpbGQocHJvamVjdENvbnRhaW5lci5maXJzdENoaWxkKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBhZGRQcm9qZWN0VG9BcnJheShwcm9qZWN0TmFtZSkge1xuXHRcdHByb2plY3RMb2dpYy5tYWtlUHJvamVjdChwcm9qZWN0TmFtZSwgW10pO1xuXHR9XG5cblx0ZnVuY3Rpb24gZGVsZXRlUHJvamVjdChpKSB7XG5cdFx0Y29uc3QgcHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvamVjdFwiKTtcblx0XHRwcm9qZWN0Q29udGFpbmVyLnJlbW92ZUNoaWxkKHByb2plY3RbaV0pO1xuXHRcdHByb2plY3RMb2dpYy5yZW1vdmVQcm9qZWN0KGkpO1xuXHRcdHJlbmRlcigpO1xuXHR9XG5cblx0ZnVuY3Rpb24gZWRpdFByb2plY3QoaSkge1xuXHRcdGNvbnN0IHByb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2plY3RcIik7XG5cdFx0Y29uc3QgcHJvamVjdFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9qZWN0LXRpdGxlXCIpO1xuXHRcdGNvbnN0IGVkaXRUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuXHRcdGVkaXRUZXh0LmNsYXNzTGlzdC5hZGQoXCJlZGl0LXRleHRcIik7XG5cdFx0ZWRpdFRleHQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG5cdFx0ZWRpdFRleHQuc2V0QXR0cmlidXRlKFwibWF4bGVuZ3RoXCIsIFwiMTBcIik7XG5cdFx0ZWRpdFRleHQudmFsdWUgPSBwcm9qZWN0TG9naWMucHJvamVjdExpc3RbaV0ucHJvamVjdE5hbWU7XG5cdFx0cHJvamVjdFtpXS5yZW1vdmVDaGlsZChwcm9qZWN0VGl0bGVbaV0pO1xuXHRcdHByb2plY3RbaV0uYXBwZW5kQ2hpbGQoZWRpdFRleHQpO1xuXHRcdGVkaXRUZXh0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLCAoZSkgPT4ge1xuXHRcdFx0aWYgKGUua2V5ID09PSBcIkVudGVyXCIpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJ5ZXNcIik7XG5cdFx0XHRcdHByb2plY3RMb2dpYy5jaGFuZ2VOYW1lKGVkaXRUZXh0LnZhbHVlLCBpKTtcblx0XHRcdFx0cmVuZGVyKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBzZWxlY3RQcm9qZWN0KGkpIHtcblx0XHRkZXNlbGVjdFByb2plY3QoKTtcblx0XHRwcm9qZWN0TG9naWMuc2VsZWN0KGksIHRydWUpO1xuXHRcdGNvbnN0IHByb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2plY3RcIik7XG5cdFx0cHJvamVjdFtpXS5zdHlsZS5jc3NUZXh0ID0gXCJiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGJsdWVcIjtcblx0fVxuXG5cdGZ1bmN0aW9uIGRlc2VsZWN0UHJvamVjdCgpIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHByb2plY3RMb2dpYy5wcm9qZWN0TGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdFx0cHJvamVjdExvZ2ljLnNlbGVjdChpLCBmYWxzZSk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHsgYWRkUHJvamVjdCwgcmVuZGVyIH07XG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBwcm9qZWN0RE9NO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGVzdCgpIHtcblx0Y29uc29sZS5sb2coXCJ0ZXN0XCIpO1xufVxuIiwiaW1wb3J0IHRlc3QgZnJvbSBcIi4vdGVzdC5qc1wiO1xuaW1wb3J0IHByb2plY3RMb2dpYyBmcm9tIFwiLi9wcm9qZWN0LWxvZ2ljLmpzXCI7XG5pbXBvcnQgcHJvamVjdERPTSBmcm9tIFwiLi9wcm9qZWN0LWRvbS5qc1wiO1xuaW1wb3J0IHRvZG9Mb2dpYyBmcm9tIFwiLi90b2RvLWxvZ2ljLmpzXCI7XG5cbnRlc3QoKTtcbnByb2plY3RET00ucmVuZGVyKCk7XG5wcm9qZWN0RE9NO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==