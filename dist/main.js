(()=>{"use strict";class e{constructor(e,t,o){this.projectName=e,this.todo_list=t,this.selected=!1}}const t=(()=>{let t=JSON.parse(localStorage.getItem("task.projects"))||[];function o(e){localStorage.setItem("task.projects",JSON.stringify(e))}return{makeProject:function(n,c){let r=new e(n,c);t.push(r),console.log({projectList:t}),o(t)},changeName:function(e,n){t[n].projectName=e,o(t)},removeProject:function(e){t.splice(e,1),o(t)},select:function(e,n){t[e].selected=n,o(t)},projectList:t}})(),o=function(){let e=t.projectList;for(let t=0;t<e.length;t++)if(!0===e[t].selected)return t},n=(()=>{function e(){}return{addTodoButton:function(){if(null!==o()){const t=document.querySelector("#content"),o=document.createElement("button");o.classList.add("btn"),o.setAttribute("id","todo-btn"),o.textContent="+",o.addEventListener("click",e),t.appendChild(o)}}}})(),c=(()=>{const e=document.querySelector("#projects-container");function o(o,n){const r=document.createElement("div"),s=document.createElement("div"),d=document.createElement("button"),i=document.createElement("button");r.classList.add("project"),s.classList.add("project-title"),d.classList.add("btn"),i.classList.add("btn"),d.textContent="E",i.textContent="X",s.addEventListener("click",(e=>{e.stopPropagation(),l(),t.select(n,!0),c()})),d.addEventListener("click",(e=>{e.stopPropagation(),function(e){const o=document.querySelectorAll(".project"),n=document.querySelectorAll(".project-title"),r=document.createElement("input");r.classList.add("edit-text"),r.setAttribute("type","text"),r.setAttribute("maxlength","10"),r.value=t.projectList[e].projectName,o[e].removeChild(n[e]),o[e].appendChild(r),r.addEventListener("keypress",(o=>{"Enter"===o.key&&(console.log("yes"),t.changeName(r.value,e),c())}))}(n)})),i.addEventListener("click",(o=>{o.stopPropagation(),function(o){const n=document.querySelectorAll(".project");e.removeChild(n[o]),t.removeProject(o),c()}(n)})),s.textContent=o,r.appendChild(s),r.appendChild(d),r.appendChild(i),e.appendChild(r)}function c(){!function(){for(;e.firstChild;)e.removeChild(e.firstChild)}();let c=0,l=t.projectList;for(console.log(l);c<l.length;c++)o(l[c].projectName,c),!0===l[c].selected&&(r(c),n.addTodoButton())}function r(e){l(),t.select(e,!0),document.querySelectorAll(".project")[e].style.cssText="background-color: lightblue"}function l(){for(let e=0;e<t.projectList.length;e++)t.select(e,!1)}return document.querySelector("#add-project").addEventListener("submit",(e=>{e.preventDefault();const o=document.querySelector(".project-name");var n;n=o.value,t.makeProject(n,[]),c(),o.value=""})),{addProject:o,render:c}})();console.log("test"),c.render()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iZXR0ZXItdG9kby1saXN0Ly4vc3JjL3Byb2plY3QtbG9naWMuanMiLCJ3ZWJwYWNrOi8vYmV0dGVyLXRvZG8tbGlzdC8uL3NyYy90b2RvLWxvZ2ljLmpzIiwid2VicGFjazovL2JldHRlci10b2RvLWxpc3QvLi9zcmMvdG9kby1kb20uanMiLCJ3ZWJwYWNrOi8vYmV0dGVyLXRvZG8tbGlzdC8uL3NyYy9wcm9qZWN0LWRvbS5qcyIsIndlYnBhY2s6Ly9iZXR0ZXItdG9kby1saXN0Ly4vc3JjL3Rlc3QuanMiLCJ3ZWJwYWNrOi8vYmV0dGVyLXRvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJQcm9qZWN0IiwiY29uc3RydWN0b3IiLCJwcm9qZWN0TmFtZSIsInRvZG9fbGlzdCIsInNlbGVjdGVkIiwidGhpcyIsInByb2plY3RMaXN0IiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNhdmVQcm9qZWN0IiwicHJvamVjdCIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJtYWtlUHJvamVjdCIsIm9iaiIsInB1c2giLCJjb25zb2xlIiwibG9nIiwiY2hhbmdlTmFtZSIsIm5ld05hbWUiLCJpbmRleCIsInJlbW92ZVByb2plY3QiLCJzcGxpY2UiLCJzZWxlY3QiLCJib29sIiwibGlzdCIsImkiLCJsZW5ndGgiLCJ0b2RvTW9kYWwiLCJhZGRUb2RvQnV0dG9uIiwiY29udGVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRvZG9CdXR0b24iLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwic2V0QXR0cmlidXRlIiwidGV4dENvbnRlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiYXBwZW5kQ2hpbGQiLCJwcm9qZWN0Q29udGFpbmVyIiwiYWRkUHJvamVjdCIsImlucHV0TmFtZSIsImVkaXQiLCJkZWwiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiZGVzZWxlY3RQcm9qZWN0IiwicmVuZGVyIiwicXVlcnlTZWxlY3RvckFsbCIsInByb2plY3RUaXRsZSIsImVkaXRUZXh0IiwidmFsdWUiLCJyZW1vdmVDaGlsZCIsImtleSIsImVkaXRQcm9qZWN0IiwiZGVsZXRlUHJvamVjdCIsImZpcnN0Q2hpbGQiLCJjbGVhclByb2plY3QiLCJzZWxlY3RQcm9qZWN0Iiwic3R5bGUiLCJjc3NUZXh0IiwicHJldmVudERlZmF1bHQiLCJwcm9qZWN0VGV4dCJdLCJtYXBwaW5ncyI6Im1CQUFBLE1BQU1BLEVBQ0xDLFlBQVlDLEVBQWFDLEVBQVdDLEdBQ25DQyxLQUFLSCxZQUFjQSxFQUNuQkcsS0FBS0YsVUFBWUEsRUFDakJFLEtBQUtELFVBQVcsR0FJbEIsTUFnQ0EsRUFoQ3FCLE1BQ3BCLElBQUlFLEVBQWNDLEtBQUtDLE1BQU1DLGFBQWFDLFFBQVEsbUJBQXFCLEdBRXZFLFNBQVNDLEVBQVlDLEdBQ3BCSCxhQUFhSSxRQUFRLGdCQUFpQk4sS0FBS08sVUFBVUYsSUF5QnRELE1BQU8sQ0FBRUcsWUF0QlQsU0FBcUJiLEVBQWFDLEdBQ2pDLElBQUlhLEVBQU0sSUFBSWhCLEVBQVFFLEVBQWFDLEdBQ25DRyxFQUFZVyxLQUFLRCxHQUNqQkUsUUFBUUMsSUFBSSxDQUFFYixnQkFDZEssRUFBWUwsSUFrQlNjLFdBVnRCLFNBQW9CQyxFQUFTQyxHQUM1QmhCLEVBQVlnQixHQUFPcEIsWUFBY21CLEVBQ2pDVixFQUFZTCxJQVFxQmlCLGNBZmxDLFNBQXVCRCxHQUN0QmhCLEVBQVlrQixPQUFPRixFQUFPLEdBQzFCWCxFQUFZTCxJQWFvQ21CLE9BTGpELFNBQWdCSCxFQUFPSSxHQUN0QnBCLEVBQVlnQixHQUFPbEIsU0FBV3NCLEVBQzlCZixFQUFZTCxJQUc0Q0EsZ0JBN0JyQyxHQ2dDckIsRUFWQyxXQUNDLElBQUlxQixFQUFPLGNBQ1gsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUlELEVBQUtFLE9BQVFELElBQ2hDLElBQXlCLElBQXJCRCxFQUFLQyxHQUFHeEIsU0FBbUIsT0FBT3dCLEdDWnpDLEVBbkJnQixN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LGNBQXlCckQsRUFBYSxJQWhFdENpRCxJQUNBZSxFQUFZWCxNQUFRLE1BeUdkLENBQUVYLGFBQVlPLFdBbEhILEdDSGxCakMsUUFBUUMsSUFBSSxRQ0tiLFkiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFByb2plY3Qge1xuXHRjb25zdHJ1Y3Rvcihwcm9qZWN0TmFtZSwgdG9kb19saXN0LCBzZWxlY3RlZCkge1xuXHRcdHRoaXMucHJvamVjdE5hbWUgPSBwcm9qZWN0TmFtZTtcblx0XHR0aGlzLnRvZG9fbGlzdCA9IHRvZG9fbGlzdDtcblx0XHR0aGlzLnNlbGVjdGVkID0gZmFsc2U7XG5cdH1cbn1cblxuY29uc3QgcHJvamVjdExvZ2ljID0gKCgpID0+IHtcblx0bGV0IHByb2plY3RMaXN0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRhc2sucHJvamVjdHNcIikpIHx8IFtdO1xuXG5cdGZ1bmN0aW9uIHNhdmVQcm9qZWN0KHByb2plY3QpIHtcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRhc2sucHJvamVjdHNcIiwgSlNPTi5zdHJpbmdpZnkocHJvamVjdCkpO1xuXHR9XG5cblx0ZnVuY3Rpb24gbWFrZVByb2plY3QocHJvamVjdE5hbWUsIHRvZG9fbGlzdCkge1xuXHRcdGxldCBvYmogPSBuZXcgUHJvamVjdChwcm9qZWN0TmFtZSwgdG9kb19saXN0KTtcblx0XHRwcm9qZWN0TGlzdC5wdXNoKG9iaik7XG5cdFx0Y29uc29sZS5sb2coeyBwcm9qZWN0TGlzdCB9KTtcblx0XHRzYXZlUHJvamVjdChwcm9qZWN0TGlzdCk7XG5cdH1cblxuXHRmdW5jdGlvbiByZW1vdmVQcm9qZWN0KGluZGV4KSB7XG5cdFx0cHJvamVjdExpc3Quc3BsaWNlKGluZGV4LCAxKTtcblx0XHRzYXZlUHJvamVjdChwcm9qZWN0TGlzdCk7XG5cdH1cblxuXHRmdW5jdGlvbiBjaGFuZ2VOYW1lKG5ld05hbWUsIGluZGV4KSB7XG5cdFx0cHJvamVjdExpc3RbaW5kZXhdLnByb2plY3ROYW1lID0gbmV3TmFtZTtcblx0XHRzYXZlUHJvamVjdChwcm9qZWN0TGlzdCk7XG5cdH1cblxuXHRmdW5jdGlvbiBzZWxlY3QoaW5kZXgsIGJvb2wpIHtcblx0XHRwcm9qZWN0TGlzdFtpbmRleF0uc2VsZWN0ZWQgPSBib29sO1xuXHRcdHNhdmVQcm9qZWN0KHByb2plY3RMaXN0KTtcblx0fVxuXG5cdHJldHVybiB7IG1ha2VQcm9qZWN0LCBjaGFuZ2VOYW1lLCByZW1vdmVQcm9qZWN0LCBzZWxlY3QsIHByb2plY3RMaXN0IH07XG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBwcm9qZWN0TG9naWM7XG4iLCJpbXBvcnQgcHJvamVjdExvZ2ljIGZyb20gXCIuL3Byb2plY3QtbG9naWMuanNcIjtcblxuY2xhc3MgVG9kbyB7XG5cdGNvbnN0cnVjdG9yKHRvZG9OYW1lLCBkZXNjcmlwdGlvbiwgZGF0ZSwgcHJpb3JpdHksIGNvbXBsZXRlZCkge1xuXHRcdHRoaXMudG9kb05hbWUgPSB0b2RvTmFtZTtcblx0XHR0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG5cdFx0dGhpcy5kYXRlID0gZGF0ZTtcblx0XHR0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG5cdFx0dGhpcy5jb21wbGV0ZWQgPSBmYWxzZTtcblx0fVxufVxuXG5jb25zdCB0b2RvTG9naWMgPSAoKCkgPT4ge1xuXHRsZXQgdG9kb0xpc3QgPSBbXTtcblxuXHRmdW5jdGlvbiBtYWtlVG9kbyhuYW1lLCBkZXNjcmlwdGlvbiwgcHJpb3JpdHkpIHtcblx0XHRsZXQgb2JqID0gbmV3IFRvZG8obmFtZSwgZGVzY3JpcHRpb24sIFwiXCIsIHByaW9yaXR5KTtcblx0XHR0b2RvTGlzdC5wdXNoKG9iaik7XG5cdH1cblxuXHRmdW5jdGlvbiByZW1vdmVUb2RvKGluZGV4KSB7XG5cdFx0dG9kb0xpc3Quc3BsaWNlKGluZGV4LCAxKTtcblx0XHRzYXZlUHJvamVjdChwcm9qZWN0TGlzdCk7XG5cdH1cblxuXHRmdW5jdGlvbiBjaGFuZ2VUb2RvKG5ld05hbWUsIGluZGV4KSB7XG5cdFx0dG9kb0xpc3RbaW5kZXhdLnByb2plY3ROYW1lID0gbmV3TmFtZTtcblx0XHRzYXZlUHJvamVjdChwcm9qZWN0TGlzdCk7XG5cdH1cblxuXHRmdW5jdGlvbiBpc1NlbGVjdGVkKCkge1xuXHRcdGxldCBsaXN0ID0gcHJvamVjdExvZ2ljLnByb2plY3RMaXN0O1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKGxpc3RbaV0uc2VsZWN0ZWQgPT09IHRydWUpIHJldHVybiBpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiB7IGlzU2VsZWN0ZWQgfTtcbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHRvZG9Mb2dpYztcbiIsImltcG9ydCB0b2RvTG9naWMgZnJvbSBcIi4vdG9kby1sb2dpYy5qc1wiO1xuXG5jb25zdCB0b2RvRE9NID0gKCgpID0+IHtcblx0ZnVuY3Rpb24gYWRkVG9kb0J1dHRvbigpIHtcblx0XHRpZiAodG9kb0xvZ2ljLmlzU2VsZWN0ZWQoKSAhPT0gbnVsbCkge1xuXHRcdFx0Y29uc3QgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29udGVudFwiKTtcblx0XHRcdGNvbnN0IHRvZG9CdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuXHRcdFx0dG9kb0J1dHRvbi5jbGFzc0xpc3QuYWRkKFwiYnRuXCIpO1xuXHRcdFx0dG9kb0J1dHRvbi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInRvZG8tYnRuXCIpO1xuXHRcdFx0dG9kb0J1dHRvbi50ZXh0Q29udGVudCA9IFwiK1wiO1xuXG5cdFx0XHR0b2RvQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0b2RvTW9kYWwpO1xuXHRcdFx0Y29udGVudC5hcHBlbmRDaGlsZCh0b2RvQnV0dG9uKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB0b2RvTW9kYWwoKSB7fVxuXG5cdHJldHVybiB7IGFkZFRvZG9CdXR0b24gfTtcbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHRvZG9ET007XG4iLCJpbXBvcnQgcHJvamVjdExvZ2ljIGZyb20gXCIuL3Byb2plY3QtbG9naWMuanNcIjtcbmltcG9ydCB0b2RvTG9naWMgZnJvbSBcIi4vdG9kby1sb2dpYy5qc1wiO1xuaW1wb3J0IHRvZG9ET00gZnJvbSBcIi4vdG9kby1kb20uanNcIjtcblxuY29uc3QgcHJvamVjdERPTSA9ICgoKSA9PiB7XG5cdGNvbnN0IHByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3RzLWNvbnRhaW5lclwiKTtcblx0Y29uc3QgcHJvamVjdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1wcm9qZWN0XCIpO1xuXG5cdHByb2plY3RGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0Y29uc3QgcHJvamVjdFRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtbmFtZVwiKTtcblx0XHRhZGRQcm9qZWN0VG9BcnJheShwcm9qZWN0VGV4dC52YWx1ZSk7XG5cdFx0cmVuZGVyKCk7XG5cdFx0cHJvamVjdFRleHQudmFsdWUgPSBcIlwiO1xuXHR9KTtcblxuXHRmdW5jdGlvbiBhZGRQcm9qZWN0KGlucHV0TmFtZSwgaSkge1xuXHRcdGNvbnN0IHByb2plY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdGNvbnN0IHByb2plY3ROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHRjb25zdCBlZGl0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcblx0XHRjb25zdCBkZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuXG5cdFx0cHJvamVjdC5jbGFzc0xpc3QuYWRkKFwicHJvamVjdFwiKTtcblx0XHRwcm9qZWN0TmFtZS5jbGFzc0xpc3QuYWRkKFwicHJvamVjdC10aXRsZVwiKTtcblx0XHRlZGl0LmNsYXNzTGlzdC5hZGQoXCJidG5cIik7XG5cdFx0ZGVsLmNsYXNzTGlzdC5hZGQoXCJidG5cIik7XG5cdFx0ZWRpdC50ZXh0Q29udGVudCA9IFwiRVwiO1xuXHRcdGRlbC50ZXh0Q29udGVudCA9IFwiWFwiO1xuXG5cdFx0cHJvamVjdE5hbWUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG5cdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0ZGVzZWxlY3RQcm9qZWN0KCk7XG5cdFx0XHRwcm9qZWN0TG9naWMuc2VsZWN0KGksIHRydWUpO1xuXHRcdFx0cmVuZGVyKCk7XG5cdFx0fSk7XG5cblx0XHRlZGl0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuXHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdGVkaXRQcm9qZWN0KGkpO1xuXHRcdH0pO1xuXG5cdFx0ZGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuXHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdGRlbGV0ZVByb2plY3QoaSk7XG5cdFx0fSk7XG5cblx0XHRwcm9qZWN0TmFtZS50ZXh0Q29udGVudCA9IGlucHV0TmFtZTtcblxuXHRcdHByb2plY3QuYXBwZW5kQ2hpbGQocHJvamVjdE5hbWUpO1xuXHRcdHByb2plY3QuYXBwZW5kQ2hpbGQoZWRpdCk7XG5cdFx0cHJvamVjdC5hcHBlbmRDaGlsZChkZWwpO1xuXG5cdFx0cHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9qZWN0KTtcblx0fVxuXG5cdGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XHRjbGVhclByb2plY3QoKTtcblx0XHRsZXQgaSA9IDA7XG5cdFx0bGV0IGxpc3QgPSBwcm9qZWN0TG9naWMucHJvamVjdExpc3Q7XG5cdFx0Y29uc29sZS5sb2cobGlzdCk7XG5cdFx0Zm9yIChpOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdFx0YWRkUHJvamVjdChsaXN0W2ldLnByb2plY3ROYW1lLCBpKTtcblx0XHRcdGlmIChsaXN0W2ldLnNlbGVjdGVkID09PSB0cnVlKSB7XG5cdFx0XHRcdHNlbGVjdFByb2plY3QoaSk7XG5cdFx0XHRcdHRvZG9ET00uYWRkVG9kb0J1dHRvbigpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGNsZWFyUHJvamVjdCgpIHtcblx0XHR3aGlsZSAocHJvamVjdENvbnRhaW5lci5maXJzdENoaWxkKSB7XG5cdFx0XHRwcm9qZWN0Q29udGFpbmVyLnJlbW92ZUNoaWxkKHByb2plY3RDb250YWluZXIuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gYWRkUHJvamVjdFRvQXJyYXkocHJvamVjdE5hbWUpIHtcblx0XHRwcm9qZWN0TG9naWMubWFrZVByb2plY3QocHJvamVjdE5hbWUsIFtdKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGRlbGV0ZVByb2plY3QoaSkge1xuXHRcdGNvbnN0IHByb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2plY3RcIik7XG5cdFx0cHJvamVjdENvbnRhaW5lci5yZW1vdmVDaGlsZChwcm9qZWN0W2ldKTtcblx0XHRwcm9qZWN0TG9naWMucmVtb3ZlUHJvamVjdChpKTtcblx0XHRyZW5kZXIoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGVkaXRQcm9qZWN0KGkpIHtcblx0XHRjb25zdCBwcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9qZWN0XCIpO1xuXHRcdGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvamVjdC10aXRsZVwiKTtcblx0XHRjb25zdCBlZGl0VGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcblx0XHRlZGl0VGV4dC5jbGFzc0xpc3QuYWRkKFwiZWRpdC10ZXh0XCIpO1xuXHRcdGVkaXRUZXh0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuXHRcdGVkaXRUZXh0LnNldEF0dHJpYnV0ZShcIm1heGxlbmd0aFwiLCBcIjEwXCIpO1xuXHRcdGVkaXRUZXh0LnZhbHVlID0gcHJvamVjdExvZ2ljLnByb2plY3RMaXN0W2ldLnByb2plY3ROYW1lO1xuXHRcdHByb2plY3RbaV0ucmVtb3ZlQ2hpbGQocHJvamVjdFRpdGxlW2ldKTtcblx0XHRwcm9qZWN0W2ldLmFwcGVuZENoaWxkKGVkaXRUZXh0KTtcblx0XHRlZGl0VGV4dC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIiwgKGUpID0+IHtcblx0XHRcdGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwieWVzXCIpO1xuXHRcdFx0XHRwcm9qZWN0TG9naWMuY2hhbmdlTmFtZShlZGl0VGV4dC52YWx1ZSwgaSk7XG5cdFx0XHRcdHJlbmRlcigpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gc2VsZWN0UHJvamVjdChpKSB7XG5cdFx0ZGVzZWxlY3RQcm9qZWN0KCk7XG5cdFx0cHJvamVjdExvZ2ljLnNlbGVjdChpLCB0cnVlKTtcblx0XHRjb25zdCBwcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9qZWN0XCIpO1xuXHRcdHByb2plY3RbaV0uc3R5bGUuY3NzVGV4dCA9IFwiYmFja2dyb3VuZC1jb2xvcjogbGlnaHRibHVlXCI7XG5cdH1cblxuXHRmdW5jdGlvbiBkZXNlbGVjdFByb2plY3QoKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBwcm9qZWN0TG9naWMucHJvamVjdExpc3QubGVuZ3RoOyBpKyspIHtcblx0XHRcdHByb2plY3RMb2dpYy5zZWxlY3QoaSwgZmFsc2UpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiB7IGFkZFByb2plY3QsIHJlbmRlciB9O1xufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgcHJvamVjdERPTTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRlc3QoKSB7XG5cdGNvbnNvbGUubG9nKFwidGVzdFwiKTtcbn1cbiIsImltcG9ydCB0ZXN0IGZyb20gXCIuL3Rlc3QuanNcIjtcbmltcG9ydCBwcm9qZWN0TG9naWMgZnJvbSBcIi4vcHJvamVjdC1sb2dpYy5qc1wiO1xuaW1wb3J0IHByb2plY3RET00gZnJvbSBcIi4vcHJvamVjdC1kb20uanNcIjtcbmltcG9ydCB0b2RvTG9naWMgZnJvbSBcIi4vdG9kby1sb2dpYy5qc1wiO1xuXG50ZXN0KCk7XG5wcm9qZWN0RE9NLnJlbmRlcigpO1xucHJvamVjdERPTTtcbiJdLCJzb3VyY2VSb290IjoiIn0=